@import './typography.css';
/* Tailwind layers */
  @tailwind base;
  @tailwind components;
  @layer utilities {
    /* local utility aliases using @apply (quick unblock with raw hex) */
    .font-slab { font-family: theme('fontFamily.slab'); }
    .chev { background-color: #343434bf; -webkit-mask: url('/icons/chevron-right.svg') no-repeat center / contain; mask: url('/icons/chevron-right.svg') no-repeat center / contain; opacity: .9; }
    .text-body-plus { @apply text-[17px] leading-[1.7]; }
    .text-ink       { @apply text-[#343434]; }
    .bg-ink         { @apply bg-[#343434]; }
    .text-ivory     { @apply text-[#F5F4F1]; }
    .bg-ivory       { @apply bg-[#F5F4F1]; }
    .text-pink      { @apply text-[#FF0062]; }
    .bg-pink        { @apply bg-[#FF0062]; }
    .text-yellow    { @apply text-[#FFD808]; }
    .bg-yellow      { @apply bg-[#FFD808]; }
    .text-purple    { @apply text-[#2F3061]; }
    @media (min-width: 768px) {
      .md\:px-8 { padding-left: 2rem; padding-right: 2rem; padding-top: 20px; }
    }
    /* Optional utility to force Poppins where needed */
    .font-body { font-family: theme('fontFamily.sans'); }
    .bg-purple      { @apply bg-[#2F3061]; }

    /* Mini horizontal rule for section headings */
    .mini-rule { display:block; width:80px; height:4px; border-radius:9999px; }
    .mini-rule--ink { background: rgb(0 0 0 / 0.18); }
    .mini-rule--light { background: rgb(255 255 255 / .28); }
    .mini-rule--pink { background:#FF0062; }

    /* XL hero heading utility */
    .h1-hero {
      font-family: "Bespoke Slab", ui-serif, system-ui;
      font-weight: 700;
      font-size: 90px; /* mobile */
      line-height: 1.05;
      padding-bottom: 1rem;
    }
    /* Simple 1-line clamp without plugin */
    .line-clamp-1 { display: -webkit-box; -webkit-line-clamp: 1; -webkit-box-orient: vertical; overflow: hidden; }
  }
  /* md+ scale for hero */
  @media (min-width: 768px) {
    .h1-hero { font-size: 88px; }
  }
  @tailwind utilities;
  /* Shared Briko UI recipes in Tailwind components layer */
  @layer components {
    /* Mini infographic flow (How it works) */
    .howflow { @apply relative; }
    .howflow::before {
      content: "";
      position: absolute; left: 0; right: 0; top: 36px; height: 2px;
      background: rgba(17,24,39,.16);
    }
    .howflow-step { @apply relative flex flex-col items-center text-center gap-2; }
    .howflow-dot { display: none; }
    .howflow-icon {
      width: 56px; height: 56px; display: grid; place-items: center;
      border-radius: 14px;
      background: rgba(0,0,0,.04);
      border: 1px solid rgba(0,0,0,.08);
      position: relative; z-index: 1;
    }
    .howflow-label { @apply text-sm font-medium tracking-tight; color: #111827; }
    .howflow-sub   { @apply text-xs text-black/60 leading-5; }
    .cta-primary   { @apply inline-flex items-center justify-center rounded-full px-5 py-2.5 text-sm font-semibold shadow; background: #FF0062; color: white; }
    .cta-link      { @apply text-sm underline decoration-2; color: #111827; }

    /* ——— Feature card styles ——— */
    .feature-card {
      @apply rounded-2xl border border-white/15 bg-white/5 p-5;
      @apply shadow-[0_8px_24px_rgba(0,0,0,0.25)];
      @apply transition-none;
    }
    .feature-card__title { @apply text-base font-semibold leading-tight text-white; }
    .feature-card__text  { @apply mt-1 text-sm leading-6 text-white/75; }


    .btn {
      @apply inline-flex items-center justify-center rounded-full px-6 py-3 text-sm font-semibold tracking-tight shadow-md select-none;
      transition: none;
    }
    .btn:focus-visible { outline: 2px solid #111827; outline-offset: 2px; }
    .btn-primary { background: #FF0062; color: #FFFFFF; box-shadow: 0 8px 20px rgba(255,0,98,.35); }
    .btn-secondary { background: #2F3061; color: #FFFFFF; box-shadow: 0 8px 20px rgba(47,48,97,.25); }
    /* Legacy alias retained for back-compat */
    .btn-pink { @apply btn btn-primary; }
    .btn-ghost {
      @apply inline-flex items-center justify-center rounded-2xl
             px-4 py-2 text-sm font-semibold bg-transparent text-brand-dark
             ring-1 ring-black/10 hover:bg-black/5;
    }
    .btn-ghost-alt {
      @apply inline-flex items-center justify-center rounded-2xl px-4 py-2
             text-sm font-semibold bg-white/85 text-brand-dark
             shadow-sm ring-1 ring-black/10;
    }
    .btn-ghost-alt:hover { @apply bg-white; }

    /* Outline variants */
    .btn-purple-outline {
      @apply inline-flex items-center gap-2 rounded-2xl px-4 py-2 font-semibold transition
             border border-brand-purple text-brand-purple bg-transparent hover:bg-brand-purple/10;
    }
    .btn-ivory-outline {
      @apply inline-flex items-center gap-2 rounded-2xl px-4 py-2 font-semibold transition
             border border-brand-ivory text-brand-ivory bg-transparent hover:bg-brand-ivory/10;
    }
    .btn-pink-outline {
      @apply inline-flex items-center gap-2 rounded-2xl px-4 py-2 font-semibold transition
             border border-brand-pink text-brand-pink bg-transparent hover:bg-brand-pink/10;
    }
    .btn-outline-ink {
      @apply inline-flex items-center justify-center rounded-full border border-[#34343A] px-3.5 py-2 text-sm font-medium text-[#34343A]
             hover:bg-[#34343A]/5 transition;
    }

    .soft-card {
      @apply rounded-2xl bg-white/5 backdrop-blur-sm ring-1 ring-white/10;
    }
    .card-outline-soft { @apply border border-[#34343A]/20; }
    .card       { @apply rounded-2xl border border-[#34343A]/20 bg-white/5; }
    .card-hover { @apply transition hover:shadow-md hover:-translate-y-[1px]; }
    /* Ink card (purple) for Settings */
    .card-ink {
      @apply rounded-2xl bg-[#2F3061] text-white border border-white/10 shadow-sm;
    }
    .section-h--ink { @apply text-[11px] uppercase tracking-wide font-semibold text-white/80; }
    .section-rule--ink { @apply h-px bg-white/15 flex-1; }
    .pill-micro { @apply text-[11px] px-2 py-0.5 rounded-full bg-[#34343A]/5 border border-[#34343A]/10; }
    .page-wrap  { @apply max-w-7xl mx-auto px-6 lg:px-8; }
    .section-h { @apply text-[11px] uppercase tracking-wide font-semibold text-[#34343A]/75; }
    .section-rule { @apply h-px bg-[#34343A]/15 flex-1; }
    .select-briko { @apply rounded-2xl border border-[#34343A]/20 bg-white/80 text-[#34343A] px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#34343A]/20; }
    .input-briko { @apply w-full rounded-xl bg-white text-[#34343A] border border-[#34343A]/20 px-3 py-2 shadow-sm outline-none focus:border-[#FF0062] focus:ring-2 focus:ring-[#FF0062]/30; }
    /* Light inputs on ink cards */
    .input-briko--ink  { @apply bg-white text-[#34343A] border-white/10 focus:border-[#FF0062] focus:ring-[#FF0062]/30; }
    .select-briko--ink { @apply bg-white text-[#34343A] border-white/10 focus:border-[#FF0062] focus:ring-[#FF0062]/30; }
    .label-briko { @apply text-sm font-medium text-[#34343A]/95; }
    .help-briko  { @apply mt-1 text-xs text-[#34343A]/75; }
    .help-briko--ink { @apply text-white/70; }
    /* Legal/article prose */
    .prose-briko { @apply text-[#34343A] leading-[1.7] space-y-4; }
    .prose-briko h2 { font-family: theme('fontFamily.slab'); @apply font-bold text-[20px] md:text-[22px] leading-snug mt-6; }
    .prose-briko ul { @apply list-disc pl-5 space-y-2; }
    .prose-briko a { @apply text-[#FF0062] underline; }
    .prose-muted { @apply text-[#34343A]/70 text-sm; }
    /* Studio card caption (purple bar under image) */
    .card-caption-ink { @apply rounded-2xl bg-[#2F3061] text-white border border-white/10; }
    .card-caption-ink:hover { @apply bg-[#2B2D59]; }
    .card-title-ink   { @apply text-[#FFD808] font-medium leading-tight; }
    .card-date-ink    { @apply text-white/90 text-[11px]; }
    /* Slider for ink cards and forms */
    .slider-briko {
      -webkit-appearance: none; appearance: none; width: 100%; height: 6px; border-radius: 9999px;
      background: rgba(255,255,255,.5); outline: none;
    }
    .slider-briko:focus-visible { outline: none; box-shadow: 0 0 0 3px rgba(255,0,98,.25); }
    .slider-briko::-webkit-slider-runnable-track {
      height: 6px; border-radius: 9999px; background: rgba(255,255,255,.5);
    }
    .slider-briko::-webkit-slider-thumb {
      -webkit-appearance: none; appearance: none; width: 16px; height: 16px; margin-top: -5px;
      border-radius: 9999px; background: #FF0062; border: 2px solid rgba(255,255,255,.9);
      box-shadow: 0 1px 2px rgba(0,0,0,.25); cursor: pointer;
    }
    .slider-briko::-moz-range-track {
      height: 6px; border-radius: 9999px; background: rgba(255,255,255,.5);
    }
    .slider-briko::-moz-range-thumb {
      width: 16px; height: 16px; border-radius: 9999px; background: #FF0062;
      border: 2px solid rgba(255,255,255,.9); box-shadow: 0 1px 2px rgba(0,0,0,.25); cursor: pointer;
    }
    @media (prefers-contrast: more) {
      .section-h   { color: rgba(52, 52, 58, 0.90); }
      .label-briko { color: rgba(52, 52, 58, 0.98); }
      .help-briko  { color: rgba(52, 52, 58, 0.85); }
    }
    .form-grid   { @apply grid grid-cols-1 md:grid-cols-2 gap-6; }
    .input-success { @apply border-emerald-500 focus:ring-emerald-400/30; }
    .input-error   { @apply border-red-500 focus:ring-red-400/30; }
    .msg-error     { @apply mt-1 text-sm text-red-600; }

    /* Readable user pill for account trigger */
    .user-pill {
      @apply inline-flex items-center gap-2 rounded-full px-3.5 py-2 text-sm
             bg-[#2F3061] text-white shadow-sm hover:bg-[#262853] transition
             focus:outline-none focus-visible:ring-2 focus-visible:ring-[#FF0062]/40;
    }
    .user-pill__icon { @apply opacity-90; }
    .user-pill--cta { @apply bg-[#FF0062] text-white hover:bg-[#e20058]; }

    /* Base menu item style (can be overridden per-surface) */
    .menu-item { @apply px-3 py-2 rounded-lg text-[#34343A] hover:bg-[#FFD808]/25; }

    /* Chips / pills and segments */
    .chip       { @apply inline-flex items-center gap-2 rounded-full px-3 py-1.5 text-sm ring-1 ring-white/20; }
    .chip-on    { @apply bg-brand-yellow text-brand-dark; }
    .chip-off   { @apply bg-transparent text-brand-ivory; }

    .seg        { @apply flex items-center justify-between; }
    .seg-on     { @apply bg-brand-purple text-brand-ivory; }
    .seg-off    { @apply text-brand-ivory; }

    .step-pill  { @apply inline-flex items-center gap-2 rounded-xl px-4 py-2 ring-1 ring-white/15 bg-white/5; }

    /* Legacy aliases */
    .badge { @apply inline-flex items-center gap-2 rounded-full px-3 py-1.5 text-sm bg-brand-ivory text-brand-dark ring-1 ring-white/10; }
    .badge__icon { @apply inline-flex items-center; }

    /* Header nav pill: lift + sheen + press feedback */
    .nav-pill {
      @apply relative inline-flex items-center rounded-lg px-4 py-2 text-sm bg-[#FF0062] text-white shadow-sm transition;
      will-change: transform, box-shadow, background-color;
    }
    .nav-pill:hover { @apply -translate-y-[1px] shadow-md; }
    .nav-pill:active { transform: translateY(0) scale(.98); box-shadow: 0 0 0 0 rgba(0,0,0,0); }
    .nav-pill:focus-visible { @apply outline-none ring-2 ring-[#FF0062]/40; }
    .nav-pill::after {
      content: "";
      position: absolute; inset: 0; pointer-events: none; border-radius: inherit;
      background: linear-gradient(120deg, transparent 30%, rgba(255,255,255,.22) 50%, transparent 70%);
      transform: translateX(-140%);
      transition: transform .5s ease;
    }
    .nav-pill:hover::after { transform: translateX(140%); }

    /* Enter animation (staggered) */
    @keyframes navFadeUp {
      from { opacity: 0; transform: translateY(4px); }
      to   { opacity: 1; transform: translateY(0); }
    }
    @media (prefers-reduced-motion: no-preference) {
      .nav-enter { animation: navFadeUp .35s ease both; }
      .nav-enter:nth-child(1) { animation-delay: .02s; }
      .nav-enter:nth-child(2) { animation-delay: .06s; }
      .nav-enter:nth-child(3) { animation-delay: .10s; }
      .nav-enter:nth-child(4) { animation-delay: .14s; }
      .nav-enter:nth-child(5) { animation-delay: .18s; }
    }
    .nav-active { box-shadow: 0 0 0 0 rgba(255,0,98,0), 0 0 0 2px rgba(255,0,98,.35) inset; }
  }

  /* Legacy component tokens and utilities previously in main.css */
  @layer components {
    /* Any controls shown over the yellow panel */
    .on-yellow .label { @apply text-brand-purple; }

    /* Inputs on yellow should be dark text, not white */
    .on-yellow input[type="text"],
    .on-yellow input[type="search"],
    .on-yellow input[type="number"] {
      @apply bg-white/80 text-brand-purple border border-white/80;
    }
    .on-yellow input[type="text"]::placeholder,
    .on-yellow input[type="search"]::placeholder,
    .on-yellow input[type="number"]::placeholder {
      @apply text-brand-purple/60;
    }

    /* Optional: info “i” icon tint on yellow */
    .on-yellow .hint,
    .on-yellow .icon { @apply text-brand-purple/70; }

    /* Card (dark variant) */
    .soft-card-dark {
      @apply rounded-2xl border border-white/10 shadow-soft;
      background-color: rgba(255,255,255,.06);
    }

    /* (removed legacy section header sizes to avoid conflicts) */

    /* Tabs (underlined pill) */
    .tabbar { @apply flex gap-6 border-b; border-color: rgba(255,255,255,.2); }
    .tab    { @apply pb-2 -mb-px; color: theme('colors.purple'); opacity: .7; }
    .tab-active { @apply border-b-4 font-bold; border-color: theme('colors.pink'); color: theme('colors.purple'); opacity: 1; }

    /* Segmented toggles */
    .segmented { @apply inline-flex items-center rounded-full p-1 border backdrop-blur; border-color: rgba(255,255,255,.8); background-color: rgba(255,255,255,.6); }
    .seg-btn   { @apply rounded-full px-3 py-1.5 text-sm font-medium transition; }
    /* .seg-off defined above in main recipes */
    .seg-btn:focus-visible { @apply outline-none ring-2; --tw-ring-color: theme('colors.pink'); }

    /* Inputs */
    .input-yellow {
      @apply w-full rounded-[14px] border px-4 py-2.5 focus:outline-none focus:ring-2;
      border-color: rgba(255,255,255,.8);
      background-color: rgba(255,255,255,.8);
      color: theme('colors.purple');
    }
    .input-yellow::placeholder { color: rgba(47,48,97,.6); }

    .input-dark {
      @apply w-full rounded-[14px] border px-4 py-2.5 focus:outline-none focus:ring-2;
      border-color: rgba(255,255,255,.1);
      background-color: rgba(255,255,255,.05);
      color: white;
    }
    .input-dark::placeholder { color: rgba(255,255,255,.5); }

    .label-dark   { color: white; }
    .label-yellow { color: theme('colors.purple'); }

    /* Sliders */
    .slider-track { @apply h-1.5 rounded-full; background-color: rgba(255,255,255,.5); }
    .slider-fill  { @apply h-1.5 rounded-full; background-color: theme('colors.pink'); }
    /* Section title + pink rule */
    .section-title { @apply text-center; }
    .section-title .rule { @apply mx-auto mt-4 h-1 w-16 rounded-full bg-brand-pink; }
    /* uniform space AFTER a .section-title block (align with typography.css) */
    .section-gap { @apply mb-8 md:mb-10; }

    /* Hero title sizing (~25% larger) */
    .hero-h1 {
      font-family: theme('fontFamily.slab');
      @apply font-bold leading-[1.03] text-brand-dark
             text-[50px] sm:text-[70px] md:text-[84px];
    }

    /* Dark chips (variant used in How it works) */
    .chip-dark {
      @apply inline-flex items-center gap-3 rounded-2xl px-5 py-3
             bg-brand-purple text-brand-ivory ring-1 ring-black/10 shadow-sm;
    }
    .chip-chevron { @apply text-brand-purple/70 text-xl select-none; }
    
    /* Dark step pills */
    .step-pill--dark {
      @apply inline-flex items-center gap-3 rounded-2xl px-5 py-3
             bg-[#2F3061] text-brand-ivory ring-1 ring-black/10 shadow-sm;
    }
    .step-chevron {
      @apply text-[#2F3061]/70 text-xl select-none;
    }
    /* Material Symbols helpers removed (using Iconify SVGs instead) */
  }

  @layer base {
    /* ---- Base font assignments (NO @apply) ---- */
    html {
      font-family: theme('fontFamily.sans');
    }
    /* use Tailwind’s base size + explicit line-height */
    body { @apply text-base leading-[1.6] text-[#343434]; }
    h1, h2, h3, .font-slab {
      font-family: "Bespoke Slab", ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
    }

    /* Existing global colors/helpers */
    html, body, #__nuxt { @apply bg-brand-yellow text-brand-dark; }
    .section-yellow { @apply bg-brand-yellow text-brand-dark; }
    .section-purple { @apply bg-brand-purple text-brand-ivory; }
  }

  /* Gallery action pills: force vertical centering everywhere */
  .gallery-card .actions a,
  .gallery-card .actions button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    height: 2.25rem;      /* h-9 */
    line-height: 1;       /* leading-none */
    padding: 0 0.75rem;   /* px-3 */
    border-radius: 9999px;/* rounded-full */
  }
